import{r as o}from"./app-f12fca71.js";const u=async({idOwner:r})=>{if(!r)return null;try{const e=await(await fetch(`${APP_URL}/api/users/${r}`)).json();return{idUser:e.id_user,name:e.name,email:e.email,createdAt:e.created_at,birthdate:e.birthdate,country:e.country,city:e.city,gender:e.gender,idDetail:e.id,province:e.province,profileImage:e.profile_image,bio:e.bio,phoneNumber:e.phone_number}}catch{throw new Error("Error searching user with idOwner:  "+r)}},l=async({idUser:r})=>{if(!r)return null;try{const e=await(await fetch(`/api/users/details/${r}`)).json();return{idDetail:e.id,idUser:e.id_user,name:e.name||"Defektuzko izena",country:e.country||"Hutsa",province:e.province,city:e.city||"Hutsa",profileImage:e.profile_image,birthdate:e.birthdate,gender:e.gender,bio:e.bio,phoneNumber:e.phone_number,createdAt:e.created_at,updatedAt:e.updated_at}}catch{throw new Error("Errorea userdetail jasotzean")}};function p(){const[r,a]=o.useState([]),[e,n]=o.useState({}),i=o.useCallback(async({idOwner:t})=>{if(!t)return null;try{const s=await u({idOwner:t});a(s)}catch{console.error("Error al obtener el usuario:")}},[]),c=o.useCallback(async({idUser:t})=>{console.log("IDUSER",t);try{const s=await l({idUser:t});n(s),console.log("USER DETAILS TRY",s)}catch{console.error("Error al obtener los detalles del usuario: "+t)}},[]);return{users:r,userDetails:e,getUserByIdOwner:i,getUserDetailsByIdUser:c}}export{p as u};
