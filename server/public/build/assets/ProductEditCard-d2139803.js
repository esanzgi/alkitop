import{m as R,j as h}from"./app-f12fca71.js";import{P as mr,a as gr}from"./constants-f0ecae84.js";var ce=e=>e.type==="checkbox",le=e=>e instanceof Date,j=e=>e==null;const er=e=>typeof e=="object";var D=e=>!j(e)&&!Array.isArray(e)&&er(e)&&!le(e),vr=e=>D(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,xr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,br=(e,l)=>e.has(xr(l)),_r=e=>{const l=e.constructor&&e.constructor.prototype;return D(l)&&l.hasOwnProperty("isPrototypeOf")},je=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(e){let l;const s=Array.isArray(e);if(e instanceof Date)l=new Date(e);else if(e instanceof Set)l=new Set(e);else if(!(je&&(e instanceof Blob||e instanceof FileList))&&(s||D(e)))if(l=s?[]:{},!s&&!_r(e))l=e;else for(const t in e)e.hasOwnProperty(t)&&(l[t]=U(e[t]));else return e;return l}var de=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,y=(e,l,s)=>{if(!l||!D(e))return s;const t=de(l.split(/[,[\].]+?/)).reduce((n,u)=>j(n)?n:n[u],e);return w(t)||t===e?w(e[l])?s:e[l]:t},G=e=>typeof e=="boolean";const ze={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},M={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};R.createContext(null);var pr=(e,l,s,t=!0)=>{const n={defaultValues:l._defaultValues};for(const u in e)Object.defineProperty(n,u,{get:()=>{const c=u;return l._proxyFormState[c]!==M.all&&(l._proxyFormState[c]=!t||M.all),s&&(s[c]=!0),e[c]}});return n},P=e=>D(e)&&!Object.keys(e).length,Ar=(e,l,s,t)=>{s(e);const{name:n,...u}=e;return P(u)||Object.keys(u).length>=Object.keys(l).length||Object.keys(u).find(c=>l[c]===(!t||M.all))},ke=e=>Array.isArray(e)?e:[e];function Vr(e){const l=R.useRef(e);l.current=e,R.useEffect(()=>{const s=!e.disabled&&l.current.subject&&l.current.subject.subscribe({next:l.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",Fr=(e,l,s,t,n)=>H(e)?(t&&l.watch.add(e),y(s,e,n)):Array.isArray(e)?e.map(u=>(t&&l.watch.add(u),y(s,u))):(t&&(l.watchAll=!0),s),Le=e=>/^\w*$/.test(e),rr=e=>de(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,l,s)=>{let t=-1;const n=Le(l)?[l]:rr(l),u=n.length,c=u-1;for(;++t<u;){const g=n[t];let p=s;if(t!==c){const O=e[g];p=D(O)||Array.isArray(O)?O:isNaN(+n[t+1])?{}:[]}e[g]=p,e=e[g]}return e},wr=(e,l,s,t,n)=>l?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[t]:n||!0}}:{},Ke=e=>({isOnSubmit:!e||e===M.onSubmit,isOnBlur:e===M.onBlur,isOnChange:e===M.onChange,isOnAll:e===M.all,isOnTouch:e===M.onTouched}),$e=(e,l,s)=>!s&&(l.watchAll||l.watch.has(e)||[...l.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const oe=(e,l,s,t)=>{for(const n of s||Object.keys(e)){const u=y(e,n);if(u){const{_f:c,...g}=u;if(c){if(c.refs&&c.refs[0]&&l(c.refs[0],n)&&!t)break;if(c.ref&&l(c.ref,c.name)&&!t)break;oe(g,l)}else D(g)&&oe(g,l)}}};var kr=(e,l,s)=>{const t=de(y(e,s));return V(t,"root",l[s]),V(e,s,t),e},Oe=e=>e.type==="file",Q=e=>typeof e=="function",me=e=>{if(!je)return!1;const l=e?e.ownerDocument:0;return e instanceof(l&&l.defaultView?l.defaultView.HTMLElement:HTMLElement)},he=e=>H(e),Te=e=>e.type==="radio",ge=e=>e instanceof RegExp;const Ge={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var tr=e=>{if(Array.isArray(e)){if(e.length>1){const l=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:l,isValid:!!l.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Ge}return Ge};const Je={isValid:!1,value:null};var sr=e=>Array.isArray(e)?e.reduce((l,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:l,Je):Je;function Qe(e,l,s="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||G(e)&&!e)return{type:s,message:he(e)?e:"",ref:l}}var ie=e=>D(e)&&!ge(e)?e:{value:e,message:""},Xe=async(e,l,s,t,n)=>{const{ref:u,refs:c,required:g,maxLength:p,minLength:O,min:re,max:k,pattern:v,validate:Z,name:T,valueAsNumber:fe,mount:be,disabled:J}=e._f,b=y(l,T);if(!be||J)return{};const W=c?c[0]:u,z=_=>{t&&W.reportValidity&&(W.setCustomValidity(G(_)?"":_||""),W.reportValidity())},E={},ae=Te(u),te=ce(u),_e=ae||te,I=(fe||Oe(u))&&w(u.value)&&w(b)||me(u)&&u.value===""||b===""||Array.isArray(b)&&!b.length,X=wr.bind(null,T,s,E),K=(_,x,F,L=$.maxLength,C=$.minLength)=>{const B=_?x:F;E[T]={type:_?L:C,message:B,ref:u,...X(_?L:C,B)}};if(n?!Array.isArray(b)||!b.length:g&&(!_e&&(I||j(b))||G(b)&&!b||te&&!tr(c).isValid||ae&&!sr(c).isValid)){const{value:_,message:x}=he(g)?{value:!!g,message:g}:ie(g);if(_&&(E[T]={type:$.required,message:x,ref:W,...X($.required,x)},!s))return z(x),E}if(!I&&(!j(re)||!j(k))){let _,x;const F=ie(k),L=ie(re);if(!j(b)&&!isNaN(b)){const C=u.valueAsNumber||b&&+b;j(F.value)||(_=C>F.value),j(L.value)||(x=C<L.value)}else{const C=u.valueAsDate||new Date(b),B=ye=>new Date(new Date().toDateString()+" "+ye),Y=u.type=="time",ne=u.type=="week";H(F.value)&&b&&(_=Y?B(b)>B(F.value):ne?b>F.value:C>new Date(F.value)),H(L.value)&&b&&(x=Y?B(b)<B(L.value):ne?b<L.value:C<new Date(L.value))}if((_||x)&&(K(!!_,F.message,L.message,$.max,$.min),!s))return z(E[T].message),E}if((p||O)&&!I&&(H(b)||n&&Array.isArray(b))){const _=ie(p),x=ie(O),F=!j(_.value)&&b.length>+_.value,L=!j(x.value)&&b.length<+x.value;if((F||L)&&(K(F,_.message,x.message),!s))return z(E[T].message),E}if(v&&!I&&H(b)){const{value:_,message:x}=ie(v);if(ge(_)&&!b.match(_)&&(E[T]={type:$.pattern,message:x,ref:u,...X($.pattern,x)},!s))return z(x),E}if(Z){if(Q(Z)){const _=await Z(b,l),x=Qe(_,W);if(x&&(E[T]={...x,...X($.validate,x.message)},!s))return z(x.message),E}else if(D(Z)){let _={};for(const x in Z){if(!P(_)&&!s)break;const F=Qe(await Z[x](b,l),W,x);F&&(_={...F,...X(x,F.message)},z(F.message),s&&(E[T]=_))}if(!P(_)&&(E[T]={ref:W,..._},!s))return E}}return z(!0),E};function Dr(e,l){const s=l.slice(0,-1).length;let t=0;for(;t<s;)e=w(e)?t++:e[l[t++]];return e}function Er(e){for(const l in e)if(e.hasOwnProperty(l)&&!w(e[l]))return!1;return!0}function S(e,l){const s=Array.isArray(l)?l:Le(l)?[l]:rr(l),t=s.length===1?e:Dr(e,s),n=s.length-1,u=s[n];return t&&delete t[u],n!==0&&(D(t)&&P(t)||Array.isArray(t)&&Er(t))&&S(e,s.slice(0,-1)),e}var De=()=>{let e=[];return{get observers(){return e},next:n=>{for(const u of e)u.next&&u.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(u=>u!==n)}}),unsubscribe:()=>{e=[]}}},ve=e=>j(e)||!er(e);function ee(e,l){if(ve(e)||ve(l))return e===l;if(le(e)&&le(l))return e.getTime()===l.getTime();const s=Object.keys(e),t=Object.keys(l);if(s.length!==t.length)return!1;for(const n of s){const u=e[n];if(!t.includes(n))return!1;if(n!=="ref"){const c=l[n];if(le(u)&&le(c)||D(u)&&D(c)||Array.isArray(u)&&Array.isArray(c)?!ee(u,c):u!==c)return!1}}return!0}var ir=e=>e.type==="select-multiple",Nr=e=>Te(e)||ce(e),Ee=e=>me(e)&&e.isConnected,lr=e=>{for(const l in e)if(Q(e[l]))return!0;return!1};function xe(e,l={}){const s=Array.isArray(e);if(D(e)||s)for(const t in e)Array.isArray(e[t])||D(e[t])&&!lr(e[t])?(l[t]=Array.isArray(e[t])?[]:{},xe(e[t],l[t])):j(e[t])||(l[t]=!0);return l}function ar(e,l,s){const t=Array.isArray(e);if(D(e)||t)for(const n in e)Array.isArray(e[n])||D(e[n])&&!lr(e[n])?w(l)||ve(s[n])?s[n]=Array.isArray(e[n])?xe(e[n],[]):{...xe(e[n])}:ar(e[n],j(l)?{}:l[n],s[n]):s[n]=!ee(e[n],l[n]);return s}var Ne=(e,l)=>ar(e,l,xe(l)),nr=(e,{valueAsNumber:l,valueAsDate:s,setValueAs:t})=>w(e)?e:l?e===""?NaN:e&&+e:s&&H(e)?new Date(e):t?t(e):e;function Se(e){const l=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):l.disabled))return Oe(l)?l.files:Te(l)?sr(e.refs).value:ir(l)?[...l.selectedOptions].map(({value:s})=>s):ce(l)?tr(e.refs).value:nr(w(l.value)?e.ref.value:l.value,e)}var Sr=(e,l,s,t)=>{const n={};for(const u of e){const c=y(l,u);c&&V(n,u,c._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:t}},ue=e=>w(e)?e:ge(e)?e.source:D(e)?ge(e.value)?e.value.source:e.value:e,jr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ye(e,l,s){const t=y(e,s);if(t||Le(s))return{error:t,name:s};const n=s.split(".");for(;n.length;){const u=n.join("."),c=y(l,u),g=y(e,u);if(c&&!Array.isArray(c)&&s!==u)return{name:s};if(g&&g.type)return{name:u,error:g};n.pop()}return{name:s}}var Lr=(e,l,s,t,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(l||e):(s?t.isOnBlur:n.isOnBlur)?!e:(s?t.isOnChange:n.isOnChange)?e:!0,Or=(e,l)=>!de(y(e,l)).length&&S(e,l);const Tr={mode:M.onSubmit,reValidateMode:M.onChange,shouldFocusError:!0};function Cr(e={},l){let s={...Tr,...e},t={submitCount:0,isDirty:!1,isLoading:Q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},u=D(s.defaultValues)||D(s.values)?U(s.defaultValues||s.values)||{}:{},c=s.shouldUnregister?{}:U(u),g={action:!1,mount:!1,watch:!1},p={mount:new Set,unMount:new Set,array:new Set,watch:new Set},O,re=0;const k={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:De(),array:De(),state:De()},Z=Ke(s.mode),T=Ke(s.reValidateMode),fe=s.criteriaMode===M.all,be=r=>i=>{clearTimeout(re),re=setTimeout(r,i)},J=async r=>{if(k.isValid||r){const i=s.resolver?P((await I()).errors):await K(n,!0);i!==t.isValid&&v.state.next({isValid:i})}},b=r=>k.isValidating&&v.state.next({isValidating:r}),W=(r,i=[],a,f,d=!0,o=!0)=>{if(f&&a){if(g.action=!0,o&&Array.isArray(y(n,r))){const m=a(y(n,r),f.argA,f.argB);d&&V(n,r,m)}if(o&&Array.isArray(y(t.errors,r))){const m=a(y(t.errors,r),f.argA,f.argB);d&&V(t.errors,r,m),Or(t.errors,r)}if(k.touchedFields&&o&&Array.isArray(y(t.touchedFields,r))){const m=a(y(t.touchedFields,r),f.argA,f.argB);d&&V(t.touchedFields,r,m)}k.dirtyFields&&(t.dirtyFields=Ne(u,c)),v.state.next({name:r,isDirty:x(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else V(c,r,i)},z=(r,i)=>{V(t.errors,r,i),v.state.next({errors:t.errors})},E=r=>{t.errors=r,v.state.next({errors:t.errors,isValid:!1})},ae=(r,i,a,f)=>{const d=y(n,r);if(d){const o=y(c,r,w(a)?y(u,r):a);w(o)||f&&f.defaultChecked||i?V(c,r,i?o:Se(d._f)):C(r,o),g.mount&&J()}},te=(r,i,a,f,d)=>{let o=!1,m=!1;const A={name:r},N=!!(y(n,r)&&y(n,r)._f.disabled);if(!a||f){k.isDirty&&(m=t.isDirty,t.isDirty=A.isDirty=x(),o=m!==A.isDirty);const q=N||ee(y(u,r),i);m=!!(!N&&y(t.dirtyFields,r)),q||N?S(t.dirtyFields,r):V(t.dirtyFields,r,!0),A.dirtyFields=t.dirtyFields,o=o||k.dirtyFields&&m!==!q}if(a){const q=y(t.touchedFields,r);q||(V(t.touchedFields,r,a),A.touchedFields=t.touchedFields,o=o||k.touchedFields&&q!==a)}return o&&d&&v.state.next(A),o?A:{}},_e=(r,i,a,f)=>{const d=y(t.errors,r),o=k.isValid&&G(i)&&t.isValid!==i;if(e.delayError&&a?(O=be(()=>z(r,a)),O(e.delayError)):(clearTimeout(re),O=null,a?V(t.errors,r,a):S(t.errors,r)),(a?!ee(d,a):d)||!P(f)||o){const m={...f,...o&&G(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...m},v.state.next(m)}b(!1)},I=async r=>s.resolver(c,s.context,Sr(r||p.mount,n,s.criteriaMode,s.shouldUseNativeValidation)),X=async r=>{const{errors:i}=await I(r);if(r)for(const a of r){const f=y(i,a);f?V(t.errors,a,f):S(t.errors,a)}else t.errors=i;return i},K=async(r,i,a={valid:!0})=>{for(const f in r){const d=r[f];if(d){const{_f:o,...m}=d;if(o){const A=p.array.has(o.name),N=await Xe(d,c,fe,s.shouldUseNativeValidation&&!i,A);if(N[o.name]&&(a.valid=!1,i))break;!i&&(y(N,o.name)?A?kr(t.errors,N,o.name):V(t.errors,o.name,N[o.name]):S(t.errors,o.name))}m&&await K(m,i,a)}}return a.valid},_=()=>{for(const r of p.unMount){const i=y(n,r);i&&(i._f.refs?i._f.refs.every(a=>!Ee(a)):!Ee(i._f.ref))&&Ae(r)}p.unMount=new Set},x=(r,i)=>(r&&i&&V(c,r,i),!ee(Ce(),u)),F=(r,i,a)=>Fr(r,p,{...g.mount?c:w(i)?u:H(r)?{[r]:i}:i},a,i),L=r=>de(y(g.mount?c:u,r,e.shouldUnregister?y(u,r,[]):[])),C=(r,i,a={})=>{const f=y(n,r);let d=i;if(f){const o=f._f;o&&(!o.disabled&&V(c,r,nr(i,o)),d=me(o.ref)&&j(i)?"":i,ir(o.ref)?[...o.ref.options].forEach(m=>m.selected=d.includes(m.value)):o.refs?ce(o.ref)?o.refs.length>1?o.refs.forEach(m=>(!m.defaultChecked||!m.disabled)&&(m.checked=Array.isArray(d)?!!d.find(A=>A===m.value):d===m.value)):o.refs[0]&&(o.refs[0].checked=!!d):o.refs.forEach(m=>m.checked=m.value===d):Oe(o.ref)?o.ref.value="":(o.ref.value=d,o.ref.type||v.values.next({name:r,values:{...c}})))}(a.shouldDirty||a.shouldTouch)&&te(r,d,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&pe(r)},B=(r,i,a)=>{for(const f in i){const d=i[f],o=`${r}.${f}`,m=y(n,o);(p.array.has(r)||!ve(d)||m&&!m._f)&&!le(d)?B(o,d,a):C(o,d,a)}},Y=(r,i,a={})=>{const f=y(n,r),d=p.array.has(r),o=U(i);V(c,r,o),d?(v.array.next({name:r,values:{...c}}),(k.isDirty||k.dirtyFields)&&a.shouldDirty&&v.state.next({name:r,dirtyFields:Ne(u,c),isDirty:x(r,o)})):f&&!f._f&&!j(o)?B(r,o,a):C(r,o,a),$e(r,p)&&v.state.next({...t}),v.values.next({name:r,values:{...c}}),!g.mount&&l()},ne=async r=>{const i=r.target;let a=i.name,f=!0;const d=y(n,a),o=()=>i.type?Se(d._f):vr(r),m=A=>{f=Number.isNaN(A)||A===y(c,a,A)};if(d){let A,N;const q=o(),se=r.type===ze.BLUR||r.type===ze.FOCUS_OUT,fr=!jr(d._f)&&!s.resolver&&!y(t.errors,a)&&!d._f.deps||Lr(se,y(t.touchedFields,a),t.isSubmitted,T,Z),Fe=$e(a,p,se);V(c,a,q),se?(d._f.onBlur&&d._f.onBlur(r),O&&O(0)):d._f.onChange&&d._f.onChange(r);const we=te(a,q,se,!1),yr=!P(we)||Fe;if(!se&&v.values.next({name:a,type:r.type,values:{...c}}),fr)return k.isValid&&J(),yr&&v.state.next({name:a,...Fe?{}:we});if(!se&&Fe&&v.state.next({...t}),b(!0),s.resolver){const{errors:He}=await I([a]);if(m(q),f){const hr=Ye(t.errors,n,a),We=Ye(He,n,hr.name||a);A=We.error,a=We.name,N=P(He)}}else A=(await Xe(d,c,fe,s.shouldUseNativeValidation))[a],m(q),f&&(A?N=!1:k.isValid&&(N=await K(n,!0)));f&&(d._f.deps&&pe(d._f.deps),_e(a,N,A,we))}},ye=(r,i)=>{if(y(t.errors,i)&&r.focus)return r.focus(),1},pe=async(r,i={})=>{let a,f;const d=ke(r);if(b(!0),s.resolver){const o=await X(w(r)?r:d);a=P(o),f=r?!d.some(m=>y(o,m)):a}else r?(f=(await Promise.all(d.map(async o=>{const m=y(n,o);return await K(m&&m._f?{[o]:m}:m)}))).every(Boolean),!(!f&&!t.isValid)&&J()):f=a=await K(n);return v.state.next({...!H(r)||k.isValid&&a!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:a}:{},errors:t.errors,isValidating:!1}),i.shouldFocus&&!f&&oe(n,ye,r?d:p.mount),f},Ce=r=>{const i={...u,...g.mount?c:{}};return w(r)?i:H(r)?y(i,r):r.map(a=>y(i,a))},Ue=(r,i)=>({invalid:!!y((i||t).errors,r),isDirty:!!y((i||t).dirtyFields,r),isTouched:!!y((i||t).touchedFields,r),error:y((i||t).errors,r)}),ur=r=>{r&&ke(r).forEach(i=>S(t.errors,i)),v.state.next({errors:r?t.errors:{}})},Re=(r,i,a)=>{const f=(y(n,r,{_f:{}})._f||{}).ref;V(t.errors,r,{...i,ref:f}),v.state.next({name:r,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&f&&f.focus&&f.focus()},or=(r,i)=>Q(r)?v.values.subscribe({next:a=>r(F(void 0,i),a)}):F(r,i,!0),Ae=(r,i={})=>{for(const a of r?ke(r):p.mount)p.mount.delete(a),p.array.delete(a),i.keepValue||(S(n,a),S(c,a)),!i.keepError&&S(t.errors,a),!i.keepDirty&&S(t.dirtyFields,a),!i.keepTouched&&S(t.touchedFields,a),!s.shouldUnregister&&!i.keepDefaultValue&&S(u,a);v.values.next({values:{...c}}),v.state.next({...t,...i.keepDirty?{isDirty:x()}:{}}),!i.keepIsValid&&J()},Pe=({disabled:r,name:i,field:a,fields:f,value:d})=>{if(G(r)){const o=r?void 0:w(d)?Se(a?a._f:y(f,i)._f):d;V(c,i,o),te(i,o,!1,!1,!0)}},Ve=(r,i={})=>{let a=y(n,r);const f=G(i.disabled);return V(n,r,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:r}},name:r,mount:!0,...i}}),p.mount.add(r),a?Pe({field:a,disabled:i.disabled,name:r,value:i.value}):ae(r,!0,i.value),{...f?{disabled:i.disabled}:{},...s.progressive?{required:!!i.required,min:ue(i.min),max:ue(i.max),minLength:ue(i.minLength),maxLength:ue(i.maxLength),pattern:ue(i.pattern)}:{},name:r,onChange:ne,onBlur:ne,ref:d=>{if(d){Ve(r,i),a=y(n,r);const o=w(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,m=Nr(o),A=a._f.refs||[];if(m?A.find(N=>N===o):o===a._f.ref)return;V(n,r,{_f:{...a._f,...m?{refs:[...A.filter(Ee),o,...Array.isArray(y(u,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),ae(r,!1,void 0,o)}else a=y(n,r,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(br(p.array,r)&&g.action)&&p.unMount.add(r)}}},Me=()=>s.shouldFocusError&&oe(n,ye,p.mount),cr=r=>{G(r)&&(v.state.next({disabled:r}),oe(n,(i,a)=>{let f=r;const d=y(n,a);d&&G(d._f.disabled)&&(f||(f=d._f.disabled)),i.disabled=f},0,!1))},Ie=(r,i)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let f=U(c);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:o}=await I();t.errors=d,f=o}else await K(n);S(t.errors,"root"),P(t.errors)?(v.state.next({errors:{}}),await r(f,a)):(i&&await i({...t.errors},a),Me(),setTimeout(Me)),v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(t.errors),submitCount:t.submitCount+1,errors:t.errors})},dr=(r,i={})=>{y(n,r)&&(w(i.defaultValue)?Y(r,U(y(u,r))):(Y(r,i.defaultValue),V(u,r,U(i.defaultValue))),i.keepTouched||S(t.touchedFields,r),i.keepDirty||(S(t.dirtyFields,r),t.isDirty=i.defaultValue?x(r,U(y(u,r))):x()),i.keepError||(S(t.errors,r),k.isValid&&J()),v.state.next({...t}))},Be=(r,i={})=>{const a=r?U(r):u,f=U(a),d=r&&!P(r)?f:u;if(i.keepDefaultValues||(u=a),!i.keepValues){if(i.keepDirtyValues)for(const o of p.mount)y(t.dirtyFields,o)?V(d,o,y(c,o)):Y(o,y(d,o));else{if(je&&w(r))for(const o of p.mount){const m=y(n,o);if(m&&m._f){const A=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(me(A)){const N=A.closest("form");if(N){N.reset();break}}}}n={}}c=e.shouldUnregister?i.keepDefaultValues?U(u):{}:U(d),v.array.next({values:{...d}}),v.values.next({values:{...d}})}p={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!g.mount&&l(),g.mount=!k.isValid||!!i.keepIsValid,g.watch=!!e.shouldUnregister,v.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!ee(r,u)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:i.keepDirtyValues?t.dirtyFields:i.keepDefaultValues&&r?Ne(u,r):{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(r,i)=>Be(Q(r)?r(c):r,i);return{control:{register:Ve,unregister:Ae,getFieldState:Ue,handleSubmit:Ie,setError:Re,_executeSchema:I,_getWatch:F,_getDirty:x,_updateValid:J,_removeUnmounted:_,_updateFieldArray:W,_updateDisabledField:Pe,_getFieldArray:L,_reset:Be,_resetDefaultValues:()=>Q(s.defaultValues)&&s.defaultValues().then(r=>{qe(r,s.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:cr,_subjects:v,_proxyFormState:k,_setErrors:E,get _fields(){return n},get _formValues(){return c},get _state(){return g},set _state(r){g=r},get _defaultValues(){return u},get _names(){return p},set _names(r){p=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:pe,register:Ve,handleSubmit:Ie,watch:or,setValue:Y,getValues:Ce,reset:qe,resetField:dr,clearErrors:ur,unregister:Ae,setError:Re,setFocus:(r,i={})=>{const a=y(n,r),f=a&&a._f;if(f){const d=f.refs?f.refs[0]:f.ref;d.focus&&(d.focus(),i.shouldSelect&&d.select())}},getFieldState:Ue}}function Ur(e={}){const l=R.useRef(),s=R.useRef(),[t,n]=R.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});l.current||(l.current={...Cr(e,()=>n(c=>({...c}))),formState:t});const u=l.current.control;return u._options=e,Vr({subject:u._subjects.state,next:c=>{Ar(c,u._proxyFormState,u._updateFormState,!0)&&n({...u._formState})}}),R.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),R.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==t.isDirty&&u._subjects.state.next({isDirty:c})}},[u,t.isDirty]),R.useEffect(()=>{e.values&&!ee(e.values,s.current)?(u._reset(e.values,u._options.resetOptions),s.current=e.values,n(c=>({...c}))):u._resetDefaultValues()},[e.values,u]),R.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),R.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),l.current.formState=pr(t,u),l.current}function qr({product:e,user:l}){var u;const{register:s,handleSubmit:t,setValue:n}=Ur();return R.useEffect(()=>{n("name",e.name),n("price",e.price),n("description",e.description),n("location",e.location),n("category",e.category),n("frequency",e.frequency),n("isEco",e.isEco)},[n,e]),h.jsx("div",{className:"mt-5 pt-5 mx-5 px-5",children:h.jsxs("div",{className:"mt-5 bg-light w-full h-full mx-5 shadow border rounded d-flex flex-column",children:[h.jsx("h2",{className:"p-4 align-self-center",children:"Produktua editatu"}),h.jsxs("div",{className:" d-flex flex-column align-items-center",children:[h.jsxs("div",{className:"d-flex flex-row",children:[h.jsxs("div",{className:"p-4 ",children:[h.jsx("label",{children:"Produktuaren irudiak:"}),h.jsx("ul",{className:"list-unstyled d-flex flex-row flex-wrap",children:e.images.map((c,g)=>h.jsxs("li",{className:"mb-2 d-flex flex-column mx-2",children:[h.jsx("img",{src:mr+c.image_path,alt:c.image_path,className:"rounded-3 img-thumbnail",style:{width:"150px"}}),h.jsxs("form",{action:"/deleteImage",method:"post",className:"d-inline",children:[h.jsx("button",{type:"submit",className:"btn btn-sm btn-danger ms-2",children:"Ezabatu"}),h.jsx("input",{type:"hidden",name:"irudia",value:c.id}),h.jsx("input",{type:"hidden",name:"id",value:c.product_id})]})]},g))})]}),h.jsxs("form",{action:"/products/addImage",method:"post",className:"p-4 align-self-center border rounded me-5 bg-white d-flex flex-column align-items-center",encType:"multipart/form-data",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"irudia",className:"form-label",children:"Irudi berri bat gehitu:"}),h.jsx("input",{type:"file",id:"irudia",name:"irudia",className:"form-control"})]}),h.jsx("input",{type:"hidden",name:"id",value:e.id_product}),h.jsx("button",{type:"submit",className:"btn btn-primary",children:"Irudia gehitu"})]})]}),h.jsxs("form",{action:"/updateProduct",method:"post",className:"d-flex flex-column align-self-center col-6",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"price",className:"form-label",children:"Prezioa:"}),h.jsx("input",{type:"text",id:"price",name:"price",...s("price"),className:"form-control"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"description",className:"form-label",children:"Deskripzioa:"}),h.jsx("textarea",{id:"description",name:"description",...s("description"),className:"form-control"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"location",className:"form-label",children:"Kokapena:"}),h.jsx("input",{type:"text",id:"location",name:"location",...s("location"),className:"form-control"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"category",className:"form-label",children:"Kategoria:"}),h.jsxs("select",{id:"category",name:"category",...s("category"),defaultValue:e.category,className:"form-select",children:[h.jsx("option",{value:"",children:"Aukeratu"}),(u=gr)==null?void 0:u.map((c,g)=>h.jsx("option",{value:c,children:c},g))]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"frequency",className:"form-label",children:"Zenbatero:"}),h.jsxs("select",{id:"frequency",name:"frequency",...s("frequency"),className:"form-select",children:[h.jsx("option",{value:"",children:"Aukeratu"}),h.jsx("option",{value:"daily",children:"Egunero"}),h.jsx("option",{value:"weekly",children:"Astero"}),h.jsx("option",{value:"monthly",children:"Hilero"})]})]}),h.jsx("div",{className:"mb-3",children:h.jsxs("div",{className:"form-check",children:[h.jsx("input",{type:"checkbox",id:"isEco",name:"isEco",...s("isEco"),className:"form-check-input"}),h.jsx("label",{htmlFor:"isEco",className:"form-check-label",children:"Eko produktua"})]})}),h.jsx("input",{type:"hidden",name:"id",value:e.id_product}),h.jsx("div",{className:"mb-3 align-self-center",children:h.jsx("button",{type:"submit",className:"btn btn-primary",children:"Editatu"})})]}),h.jsxs("form",{action:"/produktua/delete",method:"post",children:[h.jsx("input",{type:"submit",className:"btn btn-danger my-3",value:"Produktua ezabatu"}),h.jsx("input",{type:"hidden",name:"product_id",value:e.id_product})]})]})]})})}export{qr as P};
