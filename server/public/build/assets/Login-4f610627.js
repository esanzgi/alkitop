import{j as e,r as i,W as P,a as I,d as p}from"./app-90a17816.js";import{G as F}from"./GuestLayout-6a610644.js";import{T as g,I as f}from"./TextInput-bf6f3626.js";import{I as h}from"./InputLabel-dfd67d3e.js";import{P as S}from"./PrimaryButton-62f17138.js";import"./logotxuria-896ba0d6.js";function L({className:n="",...m}){return e.jsx("input",{...m,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 "+n})}function M({status:n,canResetPassword:m,errors:c}){const[t,l]=i.useState({}),[j,b]=i.useState(""),[w,d]=i.useState(!1),{data:a,setData:u,post:N,processing:v,reset:y}=P({email:"",password:"",remember:!1}),k=()=>{const s={},r=a.email.indexOf("@"),o=a.email.lastIndexOf(".");return(!a.email||r!==-1&&o<r)&&(s.email="Email-a gaizki dago"),a.password||(s.password="Pasahitza ezarri"),l(s),Object.keys(s).length===0},x=(s,r)=>{l({...t,[s]:""}),u(s,r)},C=async s=>{if(s.preventDefault(),k())try{const o=await N(route("login"));o.error&&(b(o.error),d(!0))}catch{}},E=()=>{d(!1)};return i.useEffect(()=>{l({login:c.login})},[c.login]),i.useEffect(()=>()=>{y("password")},[]),e.jsxs(F,{children:[e.jsx(I,{title:"Log in"}),e.jsxs("div",{children:[n&&e.jsx("div",{className:"mb-4 font-medium text-sm text-green-600",children:n}),e.jsxs("form",{onSubmit:C,children:[t.login&&e.jsx("div",{className:"mb-4 font-medium text-sm text-red-600",children:t.login}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"email",value:"Email",className:"row w-100 m-auto"}),e.jsx(g,{id:"email",type:"email",name:"email",value:a.email,className:"mt-1 block w-100",autoComplete:"username",isFocused:!0,onChange:s=>x("email",s.target.value)}),e.jsx(f,{message:t.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(h,{htmlFor:"password",value:"Password",className:"row w-100 m-auto"}),e.jsx(g,{id:"password",type:"password",name:"password",value:a.password,className:"mt-1 block w-100",autoComplete:"current-password",onChange:s=>x("password",s.target.value)}),e.jsx(f,{message:t.password,className:"mt-2"})]}),e.jsx("div",{className:"block mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx(L,{name:"remember",checked:a.remember,onChange:s=>u("remember",s.target.checked)}),e.jsx("span",{className:"ms-2 text-sm text-gray-600",children:"Remember me"})]})}),e.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center mt-4 ",children:[m&&e.jsx(p,{href:route("password.request"),className:"underline text-sm text-black hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Forgot your password?"}),e.jsx("br",{}),e.jsx(p,{href:"/register",className:"text-white mt-2",children:"Â¿No tienes cuenta? Registrarse"}),e.jsx(S,{className:"ms-4 btn btn-secondary mt-2 ",disabled:v,children:"Log in"})]})]}),w&&e.jsxs("div",{className:"",children:[e.jsx("p",{children:j}),e.jsx("button",{onClick:E,children:"Cerrar"})]})]})]})}export{M as default};
