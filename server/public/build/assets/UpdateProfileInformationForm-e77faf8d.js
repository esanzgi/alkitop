import{q as E,W as d,r as _,j as e,d as A}from"./app-90a17816.js";import{T as r,I as l}from"./TextInput-bf6f3626.js";import{I as i}from"./InputLabel-dfd67d3e.js";import{P as u}from"./PrimaryButton-62f17138.js";import{u as O}from"./useUser-ed3b442d.js";import{t as q,F as S}from"./index.es-e2752bc1.js";import{b as T}from"./constants-778ff7d1.js";import"./Icons-4328b1fd.js";import"./index-b67daa84.js";/* empty css              */import{q as g}from"./transition-16d759f6.js";function H({mustVerifyEmail:y,status:N,owner:m,className:b=""}){const t=E().props.auth.user,{getUserDetailsByIdUser:x,userDetails:a}=O();d();const{data:p,setData:n,post:w,errors:o,processing:C,recentlySuccessful:I}=d({name:t.name||"",email:t.email||"",country:a.country||"",province:a.province||"",city:a.city||"",img:a.profile_image||""}),{data:f,setData:h,post:U,errors:j,processing:v,recentlySuccessful:k}=d({tlf:m&&m.phone_number||"",dni:m&&m.dni||""});_.useEffect(()=>{x({idUser:t.id_user})},[x]);const F=s=>{s.preventDefault(),w(route("profile.update"))},D=s=>{s.preventDefault(),U(route("profileOwner.update"))},c=a.profileImage||q;return console.log(a),e.jsxs("section",{className:b,children:[e.jsx("header",{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Zure perfilaren informazioa"})}),e.jsxs("div",{className:`d-flex justify-content-around align-items-center ${t.id_role===4?"":"flex-row"}`,children:[e.jsx("div",{className:`my-5 ${t.id_role!==4?"order-1 order-md-0":""}`,children:e.jsxs("form",{action:"/profile/addImage",method:"post",className:"d-flex justify-content-center flex-column align-items-center border rounded p-4 bg-light",encType:"multipart/form-data",children:[e.jsx("input",{type:"hidden",name:"userDetails",value:a.idDetail}),typeof c=="string"?e.jsx("img",{src:T+c||c,alt:"User Avatar",className:"rounded-circle mb-3",style:{width:"200px",height:"200px"}}):e.jsx(S,{icon:c,size:"5x",className:"rounded-circle mb-3",style:{width:"200px",height:"200px"}}),e.jsxs("div",{className:"my-3",children:[e.jsx("label",{htmlFor:"newImage",className:"form-label",children:"Aukeratu irudi berria:"}),e.jsx("input",{type:"file",id:"newImage",className:"form-control",name:"irudi"})]}),e.jsx(u,{disabled:v,children:"Irudi berria ezarri"})]})}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("label",{className:"text-center",children:"Erabiltzaile datuak"}),e.jsxs("form",{onSubmit:F,className:"ms-5",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Izena",className:"me-2"}),e.jsx(r,{id:"name",className:"mt-1 block w-full",value:p.name,onChange:s=>n("name",s.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(l,{className:"mt-2",message:o.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",value:"Email-a",className:"me-2"}),e.jsx(r,{id:"email",type:"email",className:"mt-1 block w-full",value:p.email,onChange:s=>n("email",s.target.value),autoComplete:"username",required:!0}),e.jsx(l,{className:"mt-2",message:o.email})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"country",value:"Country",className:"me-2"}),e.jsx(r,{id:"country",className:"mt-1 block w-full",placeholder:a.country,onChange:s=>n("country",s.target.value)}),e.jsx(l,{className:"mt-2",message:o.country})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"province",value:"Province",className:"me-2"}),e.jsx(r,{id:"province",className:"mt-1 block w-full",placeholder:a.province,onChange:s=>n("province",s.target.value),autoComplete:"province"}),e.jsx(l,{className:"mt-2",message:o.country})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"city",value:"City",className:"me-2"}),e.jsx(r,{id:"city",className:"mt-1 block w-full",placeholder:a.city,onChange:s=>n("city",s.target.value),autoComplete:"city"}),e.jsx(l,{className:"mt-2",message:o.country})]}),y&&t.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm mt-2 text-gray-800",children:["Your email address is unverified.",e.jsx(A,{href:route("verification.send"),method:"post",as:"button",className:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Click here to re-send the verification email."})]}),N==="verification-link-sent"&&e.jsx("div",{className:"mt-2 font-medium text-sm text-green-600",children:"A new verification link has been sent to your email address."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{disabled:C,children:"Eguneratu"}),e.jsx(g,{show:I,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Eguneratuta."})})]})]}),t.id_role===4&&e.jsxs("div",{className:"d-flex flex-column mt-5",children:[e.jsx("label",{className:"text-center",children:"Owner datuak"}),e.jsxs("form",{onSubmit:D,className:"ms-5",children:[e.jsx("input",{type:"hidden",name:"user",value:t}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"tlf",value:"Telefono zenbakia",className:"me-2"}),e.jsx(r,{id:"tlf",className:"mt-1 block w-full",value:f.tlf,onChange:s=>h("tlf",s.target.value),required:!0,autoComplete:"tlf"}),e.jsx(l,{className:"mt-2",message:j.tlf})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"dni",value:"NAN-a",className:"me-2"}),e.jsx(r,{id:"dni",type:"text",className:"mt-1 block w-full",value:f.dni,onChange:s=>h("dni",s.target.value),required:!0,autoComplete:"dni"}),e.jsx(l,{className:"mt-2",message:j.dni})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{disabled:v,children:"Eguneratu"}),e.jsx(g,{show:k,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Eguneratuta."})})]})]})]})]})]})]})]})}export{H as default};
