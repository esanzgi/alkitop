import{W as l,j as e}from"./app-90a17816.js";import{F as a,b as d,g as m,Y as x}from"./index.es-e2752bc1.js";import{P as f,t as h}from"./constants-778ff7d1.js";function N({product:s,user:t}){const{get:n}=l(),r=()=>{n(`/product/details/${s.id_product||s.id}`)},o=async c=>{c.preventDefault();try{(await fetch("/addFavourite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.id_user,product_id:s.id_product})})).ok?console.log("Favorito añadido correctamente"):console.error("Error al añadir favorito")}catch(i){console.error("Error en la solicitud:",i)}};return e.jsxs("div",{className:"",onClick:r,children:[s.isEco===1&&e.jsxs("span",{className:"badge bg-success position-absolute top-0 rounded d-inline-flex align-middle",children:[e.jsx(a,{icon:d,className:"me-1"}),"ECO"]}),e.jsx("div",{className:"col-12 text-center shadow-sm ",children:e.jsx("img",{src:f+s.image_path,alt:s.title||s.name,className:"img-fluid object-fit-cover mx-auto rounded-3 shadow-sm",style:{height:"250px"}})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"fw-semibold",children:[e.jsxs("span",{className:"fs-6 me-1",children:[s.price,"€"]}),h(s.frequency)]}),e.jsxs("span",{children:[e.jsx(a,{className:"me-1",icon:m}),s.rate||s.avg_rating]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("p",{className:"text-truncate mt-2",children:s.title||s.name}),e.jsxs("form",{onSubmit:o,children:[e.jsx("input",{type:"hidden",value:s.id_product,name:"product_id"}),e.jsx("button",{type:"submit",className:"btn btn-link",children:e.jsx(a,{className:" mt-3",icon:x})})]})]})]})]})}export{N as P};
